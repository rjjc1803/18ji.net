@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Layui</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <script src="~/Scripts/jquery-3.4.1.min.js"></script>
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
    <link href="~/layui/css/layui.css" rel="stylesheet" />
    <script src="~/layui/layui.js"></script>
</head>
<body>

    <div class="site-demo-button" id="layerBiu" style="margin-bottom: 0;">
        <button data-method="offset" data-type="auto" class="layui-btn layui-btn-normal">居弹出</button>
    </div>
    <script>
        $(function () {
            GetClassList();
        });
        var html = `<label style="zoom:90%;">选择班级：</label>`;
        var list = new Array();

        function GetClassList() {
            //var TID = @ViewBag.CurUserID;
            var TID = 54325;
            var url = '/Class/GetClassList';
            function Get(resp) {

                if (resp!=null) {
                    resp.forEach(function (t,i) {                   
                         html+=Gethtml(t);
                        list[i] = t.ClassID;
                    });
                } 
                else
                {
                    layui.layer.msg('获取班级失败，请刷新重试！');
                }
            };
            $.post(url, { TeaID: TID }, Get);
        }

        function Gethtml(t) {
             tr=`<div class="form-check form-check-inline" style="zoom:90%;">        
        <input class="form-check-input" type="checkbox" name="Class" id="Student" value="${t.ClassID}">
        <label class="form-check-label" for="Student">${t.Name}</label>
    </div>`;
             return tr;
        }

            layui.use('layer', function () {
                var $ = layui.jquery, layer = layui.layer;
                //触发事件
                var active = {
                    offset: function (othis) {
                        var type = othis.data('type')
                        , text = othis.text();

                        layer.open({
                            type: 1
                          , offset: type
                          , id: 'layerDemo' + type //防止重复弹出
                          , content: html
                          , btn: '确认'
                          , btnAlign: 'c' //按钮居中
                          , shade: 0 //不显示遮罩
                          , yes: function () {
                              layer.closeAll();//触发事件
                          }
                        });
                    }
                };

                $('#layerBiu .layui-btn').on('click', set);
                function set() {
                    var othis = $(this), method = othis.data('method');
                    active[method] ? active[method].call(this, othis) : '';
                }

            });
    </script>
</body>
</html>